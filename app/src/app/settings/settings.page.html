<!-- 
  Pint? App: Settings Page
  Description: Provides user-configurable settings for notifications, account, and legal information.
-->
<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/profile"></ion-back-button>
    </ion-buttons>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <!-- Appearance Settings -->
  <ion-list class="settings-list" lines="full">
    <ion-list-header>
      <h3>Appearance</h3>
    </ion-list-header>

    <ion-item button detail="true" (click)="onThemeChange()">
      <ion-icon name="contrast-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>
        <h3>Theme</h3>
        <p>{{ getThemeDisplayText() }}</p>
      </ion-label>
      <ion-icon name="moon" slot="end" *ngIf="isDarkMode" color="primary" aria-hidden="true"></ion-icon>
      <ion-icon name="sunny" slot="end" *ngIf="!isDarkMode && currentTheme === 'light'" color="primary" aria-hidden="true"></ion-icon>
      <ion-icon name="phone-portrait-outline" slot="end" *ngIf="currentTheme === 'auto'" color="primary" aria-hidden="true"></ion-icon>
    </ion-item>
  </ion-list>

  <!-- Notification Settings -->
  <ion-list class="settings-list" lines="full">
    <ion-list-header>
      <h3>Notifications</h3>
    </ion-list-header>

    <ion-item>
      <ion-label>Push Notifications</ion-label>
      <ion-toggle 
        slot="end" 
        [(ngModel)]="notificationsEnabled" 
        (ionChange)="onToggleChange()"
        aria-label="Toggle push notifications">
      </ion-toggle>
    </ion-item>

    <ion-item 
      button 
      detail="true" 
      (click)="manageNotificationPrefs()" 
      [disabled]="!notificationsEnabled"
      [attr.aria-label]="notificationsEnabled ? 'Manage notification preferences' : 'Notification preferences (disabled)'">
      <ion-label>
        <h3>Notification Preferences</h3>
        <p>Radius, Sound</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Account Settings -->
  <ion-list class="settings-list" lines="full">
    <ion-list-header>
      <h3>Account</h3>
    </ion-list-header>

    <ion-item button detail="true" (click)="editProfile()" aria-label="Edit your profile information">
      <ion-icon name="person-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>Edit Profile</ion-label>
    </ion-item>

    <ion-item button detail="true" (click)="manageAccount()" aria-label="Manage account settings">
      <ion-icon name="settings-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>Manage Account</ion-label>
    </ion-item>
  </ion-list>

  <!-- Legal Information -->
  <ion-list class="settings-list" lines="full">
    <ion-list-header>
      <h3>Legal</h3>
    </ion-list-header>

    <ion-item button detail="true" (click)="viewPrivacyPolicy()" aria-label="View privacy policy">
      <ion-icon name="shield-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>Privacy Policy</ion-label>
    </ion-item>

    <ion-item button detail="true" (click)="viewTermsOfService()" aria-label="View terms of service">
      <ion-icon name="document-text-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>Terms of Service</ion-label>
    </ion-item>
  </ion-list>

  <!-- Support -->
  <ion-list class="settings-list" lines="full">
    <ion-list-header>
      <h3>Support</h3>
    </ion-list-header>

    <ion-item button detail="true" (click)="contactSupport()" aria-label="Contact support via email">
      <ion-icon name="mail-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>Contact Support</ion-label>
    </ion-item>

    <ion-item button detail="true" (click)="viewFAQ()" aria-label="View frequently asked questions">
      <ion-icon name="help-circle-outline" slot="start" aria-hidden="true"></ion-icon>
      <ion-label>FAQ & Help</ion-label>
    </ion-item>
  </ion-list>

  <!-- App Version Info -->
  <div class="app-version ion-padding-horizontal">
    <p>Version 1.0.0 (Build 1)</p>
  </div>

</ion-content>